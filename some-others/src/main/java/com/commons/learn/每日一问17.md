# java中的GC 

## GC 
garbage collection  垃圾回收机制

## 如何判断对象可以被回收

采用的可达性分析法，从GC Roots 开始向下搜索，搜索走过的路径被称为引用链，当一个对象没有被任何引用链覆盖到，证明该对象是不可用的，那么虚拟机就判断是可回收对象。

## GC Roots对象包括：

* 虚拟机栈（栈帧中的本地变量表）中引用的对象
* 方法区中类静态属性引用的对象
* 方法区中常量引用的对象
* 本地方法栈中JNI（即一般说的Native方法）引用的对象

## 可回收对象会被立即回收么？

不会，对象被系统宣布死亡需要至少被标记两次，一次是可达性分析发现没有被任何引用链覆盖，一次是 虚拟机建立的finalizer队列中判断是否需要执行finalize()方法，
即：当对象被标记为GC Roots不可达时，gc会判断该对象是否覆盖了finalize()方法，若未覆盖，则直接将其回收，否则将其放入F-Queue队列，由一低优先级线程执行该队列中对象的finalize()方法，
执行完毕后，gc会再次判断该对象是否可达，若不可达，则进行回收，否则，复活该对象。
每个对象仅能触发一次finalize()方法。