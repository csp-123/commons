# 对线程安全的理解
本质上是讨论内存是否安全

## 线程安全的定义：
    当多个线程访问同一个对象时，如果不用进行额外的同步控制或者其他的协调操作，调用这个对象的行为都可以获得正确的结果，我们就说这个对象是线程安全的。

## 堆heap：
堆是进程和线程共有的空间，分全局堆和局部堆，全局堆就是所有没有分配的空间，局部堆就是用户分配的空间，堆在操作系统对进程初始化的时候分配的。（运行过程中也可以向系统要额外的堆，但是用完了要还给操作系统。

## 栈stack：
栈是每个线程独有的，保存其运行状态和局部变量，栈在线程开始时初始化。（每个线程的栈相互独立，因此栈是线程安全的，操作系统在切换线程时会自动切换栈。

## 根本原因
在每个进程内，都有一块特殊的公共内存区域，通常称为堆，进程内的所有线程都可以访问到该区域，这就是线程安全的问题所在

